<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Signin Form</title>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous" referrerpolicy="no-referrer" />
   <style>
      * {
         padding: 0;
         margin: 0;
         box-sizing: border-box;
         font-family: sans-serif;
      }

      main header {
         position: absolute;
         display: flex;
         flex-direction: row;
         left: 0;
         right: 0;
         justify-content: space-between;
      }

      .logo {
         margin-left: 60px;
         margin-top: 10px;
      }

      .logo-button {
         border-style: none;
         border-radius: 2px;
         color: white;
         padding: 7px 22px;
         background: linear-gradient(to right, rgb(79, 0, 216), rgb(100, 36, 209));
      }

      .create {
         margin-top: 10px;
         margin-right: 60px;
      }

      .create-button {
         border-style: none;
         border-radius: 2px;
         color: white;
         padding: 7px 22px;
         background: transparent;
      }

      body {
         display: flex;
         align-items: center;
         justify-content: center;
         background: linear-gradient(to right, rgb(13, 0, 72), rgb(108, 0, 108));
      }

      .form-box {
         width: 400px;
         top: 100px;
         padding: 20px;
         padding-bottom: 10px;
         border-radius: 15px;
         border-style: none;
         background: linear-gradient(to right, rgb(55, 103, 215), rgb(220, 69, 220));
         backdrop-filter: blur(25px);
         position: relative;
      }

      .heading {
         position: absolute;
         top: 20px;
         bottom: 20px;
         left: 50%;
         transform: translateX(-50%);
         color: white;
         font-size: large;
      }

      .form-details {
         margin-top: 40px;
         display: flex;
         flex-direction: column;
         gap: 20px;
      }

      input[type="text"],
      input[type="password"] {
         padding: 10px;
         width: 100%;
         border: 2px solid lightgray;
         border-radius: 25px;
         outline: none;
         background-color: transparent;
         color: black;
      }

      .form-wrapper {
         position: relative;
         display: flex;
         align-items: center;
         background-color: white;
         padding: 18px;
         border-radius: 10px;
         width: 65%;
         left: 50%;
         transform: translateX(-50%);
      }

      .form-wrapper.success input {
         border-color: #2ecc71;
      }

      .form-wrapper.error input {
         border-color: #e74c3c;
      }

      .form-wrapper i {
         position: absolute;
         right: 26px;
         vertical-align: middle;
         visibility: hidden;
      }

      .form-wrapper.success i.fa-check-circle {
         visibility: visible;
         color: #2ecc71;
      }

      .form-wrapper.error i.fa-exclamation-circle {
         visibility: visible;
         color: #e74c3c;
      }

      .form-wrapper small {
         position: absolute;
         bottom: 4px;
         left: 20px;
         font-size: x-small;
         visibility: hidden;
      }

      .form-wrapper.error small {
         visibility: visible;
         color: #e74c3c;
      }

      label {
         position: absolute;
         left: 35px;
         font-size: 12px;
         color: gray;
         transition: 0.2s;
      }

      a {
         color: rgb(55, 196, 220);
      }

      #signin-button {
         border: none;
         padding: 10px;
         border-radius: 14px;
         width: 35%;
         height: 45px;
         font-size: medium;
         color: white;
         background-image: linear-gradient(to right, rgb(20, 94, 173), rgb(55, 196, 243));
         margin-left: 50%;
         transform: translateX(-50%);
         cursor: pointer;
      }

      input:valid+label,
      input:focus+label {
         position: absolute;
         /* background: linear-gradient(to right, rgb(55, 103, 215), rgb(220, 69, 220)); */
         /* -webkit-text-fill-color: transparent;
         -webkit-background-clip: text; */
         background-color: white;
         color: rgb(220, 69, 220);
         transform: translate(0px, -20px);
         padding: 0px 4px;
         font-size: 11px;
      }

      .already-login {
         margin-top: 10px;
         margin-bottom: 0px;
         text-align: center;
         color: white;
         font-size: xx-small;
      }

      main footer {
         position: absolute;
         display: flex;
         left: 0;
         right: 0;
         bottom: 0;
         padding: 13px;
         background: linear-gradient(to right, rgb(55, 103, 215), rgb(220, 69, 220));
         justify-content: center;
      }

      .reserve-rights {
         font-size: small;
         color: white;
      }

      .ancher {
        text-decoration: none;
        color: white;
      }
   </style>
</head>

<body>
   <main>
      <header>
         <div class="logo">
            <button class="logo-button"><a class="ancher" href="/">Logo</a></button>
         </div>
         <div class="create">
            <button class="create-button"><a class="ancher" href="/quiz">Quizzes</a></button>
         </div>
      </header>
      <form action="/user/Signin" method="post" class="form-box">
        <div class="heading">
           <h4>Signin</h4>
        </div>
        <div class="form-details">

           <div class="form-wrapper">
              <input name="fullName" id="username" type="text" required>
              <label for="input">Username</label>
              <i class="fa fa-check-circle" aria-hidden="true"></i>
              <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
              <small>Error message</small>
           </div>

           <div class="form-wrapper">
              <input name="email" id="email" type="text" required>
              <label for="input">Email Address</label>
              <i class="fa fa-check-circle" aria-hidden="true"></i>
              <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
              <small>Error message</small>
           </div>

           <div class="form-wrapper">
              <input name="password" id="password" type="password" required>
              <label for="password">Password</label>
              <i class="fa fa-check-circle" aria-hidden="true"></i>
              <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
              <small>Error message</small>
           </div>

           <div class="form-wrapper">
              <input id="password2" type="password" required>
              <label for="password">Confirm Password</label>
              <i class="fa fa-check-circle" aria-hidden="true"></i>
              <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
              <small>Error message</small>
           </div>

           <button type="submit" id="signin-button">Sign in</button>
        </div>

        <div class="already-login">
           Already a member? <a href="/user/signup">Login now</a>
        </div>
     </form>
     <footer>
        <a class="reserve-rights">
           All Rights Reserved | abcd@gmail.com
        </a>
     </footer>
  </main>
  <script>
     const form = document.getElementById('signin-button');
     const username = document.getElementById('username');
     const email = document.getElementById('email');
     const password = document.getElementById('password');
     const password2 = document.getElementById('password2');

     form.addEventListener("click", (e) => {
        e.preventDefault();
        checkInput();
     });

     function checkInput() {
        const usernameValue = username.value.trim();
        const emailValue = email.value.trim();
        const passwordValue = password.value.trim();
        const password2Value = password2.value.trim();

        if (usernameValue === '') {
           setErrorFor(username, 'Username cannot be blank');
        } else {
           setSuccessFor(username);
        }

        if (emailValue === '') {
           setErrorFor(email, 'Email cannot be blank');
        } else if (!isEmail(emailValue)) {
           setErrorFor(email, 'Email is not valid');
        } else {
           setSuccessFor(email);
        }

        if (passwordValue === '') {
           setErrorFor(password, 'Password cannot be blank');
        } else {
           setSuccessFor(password);
        }

        if (password2Value === '') {
           setErrorFor(password2, 'Confirm Password cannot be blank');
        } else if (passwordValue !== password2Value) {
           setErrorFor(password2, 'Password not matched')
        } else {
           setSuccessFor(password2);
        }
     }

     function setErrorFor(input, message) {
        const formWrapper = input.parentElement;
        const small = formWrapper.querySelector('small');

        small.innerText = message;

        formWrapper.className = 'form-wrapper error';
     }

     function setSuccessFor(input) {
        const formWrapper = input.parentElement;
        formWrapper.className = 'form-wrapper success';
     }

     function isEmail(email) {
        var regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email);
     }
  </script>
</body>

</html>